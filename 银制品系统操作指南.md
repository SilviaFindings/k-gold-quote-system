# 银制品报价系统操作指南

## 系统概述
银制品报价系统是珠宝报价管理系统的银制产品模块，支持配件、宝石托、链条等银制产品的价格计算和管理。

## 主要功能

### 1. 产品分类
- **配件**：圆珠、镶嵌配件、珍珠配件、扣子等
- **宝石托**：戒子托、耳环托、吊坠托等
- **链条**：金链、延长链等
- **其它**：银板、银线、银花边等

### 2. 价格计算
- 批发价计算
- 零售价计算
- 银价管理
- 价格系数设置（工费、材料损耗、汇率等）

### 3. 云端同步

#### 上传数据
- 点击右上角"☁️ 云端同步"
- 选择"📤 上传到云端"
- 自动同步产品数据、历史记录、银价、系数

#### 下载数据
- **合并下载**：云端数据与本地数据合并，不覆盖本地已有数据
- **替换下载**：使用云端数据完全替换本地数据（⚠️ 会清空本地数据）

#### 清空数据（需密码）
- 点击"🗑️ 清空云端和本地数据"
- 输入6位清空数据密码
- ⚠️ 此操作会同时清空云端和本地所有银制品数据，不可恢复！

### 4. 密码管理

#### 设置清空数据密码
- 在云端同步菜单底部点击"🔐 设置或修改清空数据密码"
- 在密码验证模态框中点击设置密码链接
- 首次设置流程：
  1. 输入当前登录密码（验证身份）
  2. 输入新的清空数据密码（至少6位）
  3. 再次输入确认密码
  4. 点击"设置密码"

#### 修改清空数据密码
- 点击设置密码入口
- 输入当前登录密码
- 输入新的清空数据密码
- 确认新密码
- 点击"修改密码"

### 5. 导入导出
- Excel 导入产品数据
- Excel 导出报价单
- 支持按分类筛选导出

### 6. 产品搜索
- 支持按名称、规格、供应商代码搜索
- 支持按当前分类或全部分类搜索

## 使用流程

### 首次使用
1. 访问银制品页面：`/silver-quote`
2. 导入产品数据（Excel 格式）
3. 设置银价和价格系数
4. （可选）设置清空数据密码

### 日常使用
1. 添加/编辑产品信息
2. 导出报价单
3. 定期上传数据到云端备份
4. 定期导出 Excel 备份

### 清空数据
1. 点击"☁️ 云端同步"
2. 选择"🗑️ 清空云端和本地数据"
3. 输入6位清空数据密码
4. 确认清空操作

⚠️ **重要提示**：
- 清空数据会同时删除云端和本地所有银制品数据
- 此操作不可恢复
- 清空前请确保已导出 Excel 备份

## 数据备份建议

### 1. 云端备份
- 定期点击"📤 上传到云端"
- 云端数据自动保存，可在其他设备上下载

### 2. Excel 备份
- 定期导出所有产品的 Excel 报价单
- 保存到本地或云端存储

### 3. LocalStorage 备份
- 数据存储在浏览器的 LocalStorage 中
- 不要清除浏览器缓存
- 更换浏览器会丢失数据

## 常见问题

### Q: 忘记清空数据密码怎么办？
A: 目前不支持找回密码。如需清空数据，请联系管理员重置密码。

### Q: 清空数据后如何恢复？
A: 清空数据不可恢复。如果已导出 Excel 备份，可以重新导入数据。如果有云端备份，可以下载数据。

### Q: 如何查看云端是否有数据？
A: 打开云端同步菜单，如果有云端数据，会显示"✅ 云端已有数据"。

### Q: 上传和下载的区别是什么？
A: 上传是将本地数据保存到云端，下载是将云端数据获取到本地。支持合并和替换两种下载模式。

### Q: 清空数据密码有什么用？
A: 防止误操作清空数据。设置了密码后，清空数据时需要输入密码才能执行。

## 技术特性
- 基于 Next.js 16 + React 19 + TypeScript 5
- 使用 Tailwind CSS 4 进行样式设计
- 数据存储：LocalStorage（本地）+ 云端数据库
- 支持 Excel 导入导出（使用 xlsx-js-style 库）
- 密码验证通过后端 API 实现

## 更新日志
- 2025-01-07: 添加清空数据密码功能，支持设置和修改密码
- 2025-01-07: 修复清空数据功能，确保同时清空云端和本地数据
- 2025-01-07: 添加密码验证模态框，优化用户提示
